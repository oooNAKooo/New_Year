<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ù–æ–≤–æ–≥–æ–¥–Ω–µ–µ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ üéÑ</title>

<style>
body {
    margin: 0;
    font-family: "Segoe UI", Arial, sans-serif;
    background: linear-gradient(180deg, #0f2027, #203a43, #2c5364);
    color: #fff;
    text-align: center;
    min-height: 100vh;
    overflow: hidden;
}

.card {
    background: rgba(255, 255, 255, 0.12);
    backdrop-filter: blur(8px);
    border-radius: 20px;
    padding: 35px;
    max-width: 520px;
    margin: 120px auto;
    box-shadow: 0 20px 40px rgba(0,0,0,0.4);
    position: relative;
    z-index: 2;
}

input, button {
    padding: 12px;
    font-size: 18px;
    border-radius: 10px;
    border: none;
    margin-top: 10px;
}

button {
    cursor: pointer;
    background: #00c6ff;
    color: #000;
}

.hidden { display: none; }

/* ‚ùÑÔ∏è –°–ù–ï–ì */
.snowflake {
    position: fixed;
    top: -10px;
    color: white;
    pointer-events: none;
    animation: fall linear infinite;
    z-index: 1;
}

@keyframes fall {
    from { transform: translateY(0); opacity: 1; }
    to { transform: translateY(110vh); opacity: 0.3; }
}

/* üéÜ Canvas */
canvas {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
}
</style>
</head>

<body>

<canvas id="confetti"></canvas>

<!-- –∞—É–¥–∏–æ —Å–∞–ª—é—Ç–∞ -->
<audio id="fireworkSound" src="https://raw.githubusercontent.com/oooNAKooo/New_Year/main/mixkit-fireworks-bang-in-sky-2989.wav" preload="auto"></audio>

<!-- –∞—É–¥–∏–æ —Ä–æ–∂–¥–µ—Å—Ç–≤–µ–Ω—Å–∫–æ–π –º—É–∑—ã–∫–∏ -->
<audio id="christmasMusic" src="https://raw.githubusercontent.com/oooNAKooo/New_Year/main/christmas.mp3" preload="auto" loop></audio>

<div class="card">
    <h1>üéÅ –ß–µ–π —ç—Ç–æ –ø–æ–¥–∞—Ä–æ–∫?</h1>

    <div id="form">
        <input id="nameInput" placeholder="–í–≤–µ–¥–∏ —Å–≤–æ—ë –∏–º—è">
        <br>
        <button onclick="checkName()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
        <p id="error" style="color:#ffb3b3;"></p>
    </div>

    <div id="greeting" class="hidden">
        <h1 id="title">üéÑ –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º!</h1>
        <p id="message"></p>
        <div>‚ùÑÔ∏è 2026 ‚ùÑÔ∏è</div>
    </div>
</div>

<script>
// ‚ùÑÔ∏è —Å–Ω–µ–≥
for (let i = 0; i < 50; i++) {
    const s = document.createElement("div");
    s.className = "snowflake";
    s.textContent = "‚ùÑ";
    s.style.left = Math.random() * 100 + "vw";
    s.style.fontSize = Math.random() * 18 + 10 + "px";
    s.style.animationDuration = Math.random() * 10 + 15 + "s";
    document.body.appendChild(s);
}

// üéØ –∏–º—è –∏–∑ QR (?name=...)
const params = new URLSearchParams(window.location.search);
const correctName = params.get("name")?.toLowerCase();

// üéÅ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è
const greetings = {
    "–∞–ª–ª–∞":   "üíê –î–æ—Ä–æ–≥–∞—è –±–∞–±—É—à–∫–∞, —Å –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü—É—Å—Ç—å –≤ –∂–∏–∑–Ω–∏ –±—É–¥–µ—Ç –±–æ–ª—å—à–µ —Ä–∞–¥–æ—Å—Ç–∏ –∏ —É—é—Ç–∞ ‚ú® –≠—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è!",
    "–≤–∞–ª–µ—Ä–∞": "üéÑ –î–æ—Ä–æ–≥–æ–π –¥–µ–¥—É—à–∫–∞, —Å –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ó–¥–æ—Ä–æ–≤—å—è, —É–¥–∞—á–∏ –∏ –æ—Ç–ª–∏—á–Ω–æ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è üí™ –≠—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è!",
    "–Ω–∞—Å—Ç—è":  "‚ùÑÔ∏è –î–æ—Ä–æ–≥–∞—è –º–∞–º–æ—á–∫–∞, —Å –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü—É—Å—Ç—å –º–µ—á—Ç—ã —Å–±—ã–≤–∞—é—Ç—Å—è, –∞ —É–ª—ã–±–∫–∞ –Ω–µ —Å—Ö–æ–¥–∏—Ç —Å –ª–∏—Ü–∞ üòä –≠—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è!",
    "–≥—Ä–∏—à–∞":  "üî• –î–æ—Ä–æ–≥–æ–π –ø–∞–ø–æ—á–∫–∞, —Å –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü—É—Å—Ç—å –≥–æ–¥ –±—É–¥–µ—Ç —è—Ä–∫–∏–º –∏ —É—Å–ø–µ—à–Ω—ã–º üöÄ –≠—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è!",
    "–¥–∞–Ω–∏–∫":  "üéÅ –î–æ—Ä–æ–≥–æ–π –î–∞–Ω–∏–∫, —Å –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–π, —Ä–∞–¥–æ—Å—Ç–∏ –∏ –≤–µ—Å–µ–ª—å—è üß∏ –≠—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è!",
    "–∞–Ω–¥—Ä–µ–π": "üòé –î–æ—Ä–æ–≥–æ–π –ê–Ω–¥—Ä–µ–π, —Å –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü–æ–±–µ–¥, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –∫—Ä—É—Ç—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤ üéâ –≠—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è!",
    "—Ç–∞–Ω—è":   "üå∏ –î–æ—Ä–æ–≥–∞—è –¢–∞–Ω—è, —Å –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –¢–µ–ø–ª–∞, —Å—á–∞—Å—Ç—å—è –∏ –≥–∞—Ä–º–æ–Ω–∏–∏ üíñ –≠—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è!",
    "–¥–∏–º–∞":   "‚ö° –î–æ—Ä–æ–≥–æ–π –î–∏–º–∞, —Å –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü—É—Å—Ç—å –≤—Å—ë –∑–∞–¥—É–º–∞–Ω–Ω–æ–µ –ø–æ–ª—É—á–∏—Ç—Å—è ‚ú® –≠—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è!"
};

// üéÜ Canvas –¥–ª—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
const canvas = document.getElementById("confetti");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth;
canvas.height = innerHeight;

class Particle {
    constructor(x, y, color, dx, dy, r) {
        this.x = x;
        this.y = y;
        this.color = color;
        this.dx = dx;
        this.dy = dy;
        this.r = r;
        this.life = 200; // —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏
    }
    update() {
        this.x += this.dx;
        this.y += this.dy;
        this.life--;
        this.r *= 0.995; // –º–µ–¥–ª–µ–Ω–Ω–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–¥–∏—É—Å–∞
    }
    draw() {
        ctx.beginPath();
        ctx.fillStyle = this.color;
        ctx.arc(this.x, this.y, this.r, 0, Math.PI * 2);
        ctx.fill();
    }
}

let confetti = [];

function burstConfetti() {
    const cx = canvas.width / 2;
    const cy = canvas.height / 2;
    for (let i = 0; i < 200; i++) {
        const a = Math.random() * Math.PI * 2;
        const speed = Math.random() * 4 + 1;
        confetti.push(new Particle(
            cx, cy,
            `hsl(${Math.random() * 360},100%,70%)`,
            Math.cos(a) * speed,
            Math.sin(a) * speed,
            Math.random() * 5 + 3
        ));
    }
    animateConfetti();
}

function animateConfetti() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    confetti.forEach(p => { p.update(); p.draw(); });
    confetti = confetti.filter(p => p.life > 0);
    if (confetti.length > 0) requestAnimationFrame(animateConfetti);
}

// ‚úÖ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–∏ –∏ —Å–∞–ª—é—Ç + –∞—É–¥–∏–æ
function checkName() {
    const input = document.getElementById("nameInput").value.trim().toLowerCase();
    const error = document.getElementById("error");
    const music = document.getElementById("christmasMusic");
    const firework = document.getElementById("fireworkSound");

    if (!correctName) {
        error.textContent = "‚ö†Ô∏è –û—à–∏–±–∫–∞ —Å—Å—ã–ª–∫–∏ (QR-–∫–æ–¥ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω)";
        return;
    }
    if (input !== correctName) {
        error.textContent = "‚ùå –≠—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥—Ä—É–≥–æ–º—É —á–µ–ª–æ–≤–µ–∫—É";
        return;
    }

    document.getElementById("form").classList.add("hidden");
    document.getElementById("greeting").classList.remove("hidden");
    document.getElementById("message").textContent = greetings[input] || "üéÑ –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º!";

    // üîä —Ç—Ä–æ–π–Ω–æ–π —Å–∞–ª—é—Ç
    firework.currentTime = 0;
    firework.play();
    burstConfetti();
    setTimeout(() => { firework.currentTime = 0; firework.play(); burstConfetti(); }, 500);
    setTimeout(() => { firework.currentTime = 0; firework.play(); burstConfetti(); }, 1000);

    // üé∂ –º—É–∑—ã–∫–∞ –ø–æ—Å–ª–µ —Å–∞–ª—é—Ç–∞
    setTimeout(() => { music.currentTime = 0; music.play(); }, 2000);
}

// üé∂ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –º—É–∑—ã–∫–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
window.addEventListener("DOMContentLoaded", () => {
    const music = document.getElementById("christmasMusic");
    music.play().catch(() => {});
});
</script>

</body>
</html>
